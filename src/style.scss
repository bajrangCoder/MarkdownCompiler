@media (prefers-color-scheme: dark) {
    :root {
        --color-note: #2f81f7;
        --color-tip: #3fb950;
        --color-warning: #d29922;
        --color-severe: #db6d28;
        --color-caution: #f85149;
        --color-important: #a371f7;
    }
}

:root {
    --color-note: #0969da;
    --color-tip: #1a7f37;
    --color-warning: #9a6700;
    --color-severe: #bc4c00;
    --color-caution: #d1242f;
    --color-important: #8250df;
}

@mixin markdown-styles {
    
    .octicon {
        display: inline-block;
        fill: currentColor;
        vertical-align: text-bottom;
    }
    
    h1:hover .anchor .octicon-link:before,
    h2:hover .anchor .octicon-link:before,
    h3:hover .anchor .octicon-link:before,
    h4:hover .anchor .octicon-link:before,
    h5:hover .anchor .octicon-link:before,
    h6:hover .anchor .octicon-link:before {
        width: 16px;
        height: 16px;
        content: ' ';
        display: inline-block;
        background-color: currentColor;
        -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
        mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
    }
    
    details,
    figcaption,
    figure {
        display: block;
    }
    
    summary {
        display: list-item;
    }
    
    [hidden] {
        display: none !important;
    }
    
    a {
        background-color: transparent;
        color: var(--link-text-color);
        text-decoration: none;
    }
    
    abbr[title] {
        border-bottom: none;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
    }
    
    b,
    strong {
        font-weight: 600;
    }
    
    dfn {
        font-style: italic;
    }
    
    h1 {
        margin: .67em 0;
        font-weight: 600;
        padding-bottom: .3em;
        font-size: 2em;
        border-bottom: 1px solid var(--border-color);
    }
    
    mark {
        background-color: var(--popup-background-color);
        color: var(--popup-text-color);
    }
    
    small {
        font-size: 90%;
    }
    
    sub,
    sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
    }
    
    sub {
        bottom: -0.25em;
    }
    
    sup {
        top: -0.5em;
    }
    
    img {
        border-style: none;
        max-width: 100%;
        box-sizing: content-box;
    }
    
    code,
    kbd,
    pre,
    samp {
        font-family: monospace;
        font-size: 1em;
    }
    
    figure {
        margin: 1em 2.5rem;
    }
    
    hr {
        box-sizing: content-box;
        overflow: hidden;
        background: transparent;
        border-bottom: 1px solid var(--border-color);
        height: .25em;
        padding: 0;
        margin: 1.5rem 0;
        background-color: var(--border-color);
        border: 0;
    }
    
    input {
        font: inherit;
        margin: 0;
        overflow: visible;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }
    
    [type=button],
    [type=reset],
    [type=submit] {
        -webkit-appearance: button;
        appearance: button;
    }
    
    [type=checkbox],
    [type=radio] {
        box-sizing: border-box;
        padding: 0;
    }
    
    [type=number]::-webkit-inner-spin-button,
    [type=number]::-webkit-outer-spin-button {
        height: auto;
    }
    
    [type=search]::-webkit-search-cancel-button,
    [type=search]::-webkit-search-decoration {
        -webkit-appearance: none;
        appearance: none;
    }
    
    ::-webkit-input-placeholder {
        color: inherit;
        opacity: .54;
    }
    
    ::-webkit-file-upload-button {
        -webkit-appearance: button;
        appearance: button;
        font: inherit;
    }
    
    a:hover {
        text-decoration: underline;
    }
    
    ::placeholder {
        color: #9198a1;
        opacity: 1;
    }
    
    hr::before {
        display: table;
        content: "";
    }
    
    hr::after {
        display: table;
        clear: both;
        content: "";
    }
    
    table {
        border-spacing: 0;
        border-collapse: collapse;
        display: block;
        width: max-content;
        max-width: 100%;
        overflow: auto;
    }
    
    td,
    th {
        padding: 0;
    }
    
    details summary {
        cursor: pointer;
    }
    
    a:focus,
    [role=button]:focus,
    input[type=radio]:focus,
    input[type=checkbox]:focus {
        outline: 2px solid var(--active-color);
        outline-offset: -2px;
        box-shadow: none;
    }
    
    a:focus:not(:focus-visible),
    [role=button]:focus:not(:focus-visible),
    input[type=radio]:focus:not(:focus-visible),
    input[type=checkbox]:focus:not(:focus-visible) {
        outline: solid 1px transparent;
    }
    
    a:focus-visible,
    [role=button]:focus-visible,
    input[type=radio]:focus-visible,
    input[type=checkbox]:focus-visible {
        outline: 2px solid var(--active-color);
        outline-offset: -2px;
        box-shadow: none;
    }
    
    a:not([class]):focus,
    a:not([class]):focus-visible,
    input[type=radio]:focus,
    input[type=radio]:focus-visible,
    input[type=checkbox]:focus,
    input[type=checkbox]:focus-visible {
        outline-offset: 0;
    }
    
    kbd {
        display: inline-block;
        padding: 0.25rem;
        font: 11px ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
        line-height: 10px;
        color: var(--primary-text-color);
        vertical-align: middle;
        background-color: var(--primary-color);
        border: solid 1px var(--border-color);
        border-bottom-color: var(--border-color);
        border-radius: 6px;
        box-shadow: inset 0 -1px 0 var(--border-color);
    }
    
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        font-weight: 600;
        line-height: 1.25;
    }
    
    h2 {
        font-weight: 600;
        padding-bottom: .3em;
        font-size: 1.5em;
        border-bottom: 1px solid var(--border-color);
    }
    
    h3 {
        font-weight: 600;
        font-size: 1.25em;
    }
    
    h4 {
        font-weight: 600;
        font-size: 1em;
    }
    
    h5 {
        font-weight: 600;
        font-size: .875em;
    }
    
    h6 {
        font-weight: 600;
        font-size: .85em;
        color: var(--secondary-text-color);
    }
    
    p {
        margin-top: 0;
        margin-bottom: 10px;
    }
    
    blockquote {
        margin: 0;
        padding: 0 1em;
        color: var(--secondary-text-color);
        border-left: .25em solid var(--border-color);
    }
    
    ul,
    ol {
        margin-top: 0;
        margin-bottom: 0;
        padding-left: 2em;
    }
    
    ol ol,
    ul ol {
        list-style-type: lower-roman;
    }
    
    ul ul ol,
    ul ol ol,
    ol ul ol,
    ol ol ol {
        list-style-type: lower-alpha;
    }
    
    dd {
        margin-left: 0;
    }
    
    tt,
    code,
    samp {
        font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
        font-size: 12px;
    }
    
    pre {
        margin-top: 0;
        margin-bottom: 0;
        font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
        font-size: 12px;
        word-wrap: normal;
    }
    
    .octicon {
        display: inline-block;
        overflow: visible !important;
        vertical-align: text-bottom;
        fill: currentColor;
    }
    
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        margin: 0;
        -webkit-appearance: none;
        appearance: none;
    }
    
    a:not([href]) {
        color: inherit;
        text-decoration: none;
    }
    
    .absent {
        color: var(--danger-text-color);
    }
    
    .anchor {
        float: left;
        padding-right: 0.25rem;
        margin-left: -20px;
        line-height: 1;
    }
    
    .anchor:focus {
        outline: none;
    }
    
    p,
    blockquote,
    ul,
    ol,
    dl,
    table,
    pre,
    details {
        margin-top: 0;
        margin-bottom: 1rem;
    }
    
    blockquote>:first-child {
        margin-top: 0;
    }
    
    blockquote>:last-child {
        margin-bottom: 0;
    }
    
    h1 .octicon-link,
    h2 .octicon-link,
    h3 .octicon-link,
    h4 .octicon-link,
    h5 .octicon-link,
    h6 .octicon-link {
        color: var(--primary-text-color);
        vertical-align: middle;
        visibility: hidden;
    }
    
    h1:hover .anchor,
    h2:hover .anchor,
    h3:hover .anchor,
    h4:hover .anchor,
    h5:hover .anchor,
    h6:hover .anchor {
        text-decoration: none;
    }
    
    h1:hover .anchor .octicon-link,
    h2:hover .anchor .octicon-link,
    h3:hover .anchor .octicon-link,
    h4:hover .anchor .octicon-link,
    h5:hover .anchor .octicon-link,
    h6:hover .anchor .octicon-link {
        visibility: visible;
    }
    
    h1 tt,
    h1 code,
    h2 tt,
    h2 code,
    h3 tt,
    h3 code,
    h4 tt,
    h4 code,
    h5 tt,
    h5 code,
    h6 tt,
    h6 code {
        padding: 0 .2em;
        font-size: inherit;
    }
    
    summary h1,
    summary h2,
    summary h3,
    summary h4,
    summary h5,
    summary h6 {
        display: inline-block;
    }
    
    summary h1 .anchor,
    summary h2 .anchor,
    summary h3 .anchor,
    summary h4 .anchor,
    summary h5 .anchor,
    summary h6 .anchor {
        margin-left: -40px;
    }
    
    summary h1,
    summary h2 {
        padding-bottom: 0;
        border-bottom: 0;
    }
    
    ul {
        list-style-type: disc;
    }
    
    ul.no-list,
    ol.no-list {
        padding: 0;
        list-style-type: none;
    }
    
    ol[type="a s"] {
        list-style-type: lower-alpha;
    }
    
    ol[type="A s"] {
        list-style-type: upper-alpha;
    }
    
    ol[type="i s"] {
        list-style-type: lower-roman;
    }
    
    ol[type="I s"] {
        list-style-type: upper-roman;
    }
    
    ol[type="1"] {
        list-style-type: decimal;
    }
    
    div>ol:not([type]) {
        list-style-type: decimal;
    }
    
    ul ul,
    ul ol,
    ol ol,
    ol ul {
        margin-top: 0;
        margin-bottom: 0;
    }
    
    li>p {
        margin-top: 1rem;
    }
    
    li+li {
        margin-top: .25em;
    }
    
    dl {
        padding: 0;
    }
    
    dl dt {
        padding: 0;
        margin-top: 1rem;
        font-size: 1em;
        font-style: italic;
        font-weight: 600;
    }
    
    dl dd {
        padding: 0 1rem;
        margin-bottom: 1rem;
    }
    
    table th {
        font-weight: 600;
    }
    
    table th,
    table td {
        padding: 6px 13px;
        border: 1px solid var(--border-color);
    }
    
    table td>:last-child {
        margin-bottom: 0;
    }
    
    table tr {
        background-color: var(--popup-background-color);
        border-top: 1px solid var(--border-color);
    }
    
    table tr:nth-child(2n) {
        background-color: var(--popup-background-color);
    }
    
    table img {
        background-color: transparent;
    }
    
    img[align=right] {
        padding-left: 20px;
    }
    
    img[align=left] {
        padding-right: 20px;
    }
    
    .emoji {
        max-width: none;
        vertical-align: text-top;
        background-color: transparent;
    }
    
    code,
    tt {
        padding: .2em .4em;
        margin: 0;
        font-size: 85%;
        white-space: break-spaces;
        background-color: var(--popup-background-color);
        border-radius: 6px;
    }
    
    code br,
    tt br {
        display: none;
    }
    
    del code {
        text-decoration: inherit;
    }
    
    samp {
        font-size: 85%;
    }
    
    pre code {
        font-size: 100%;
    }
    
    pre>code {
        padding: 0;
        margin: 0;
        word-break: normal;
        white-space: pre;
        background: transparent;
        border: 0;
    }
    
    .highlight {
        margin-bottom: 1rem;
    }
    
    .highlight pre {
        margin-bottom: 0;
        word-break: normal;
    }
    
    .highlight pre,
    pre {
        padding: 1rem;
        overflow: auto;
        font-size: 85%;
        line-height: 1.45;
        color: var(--primary-text-color);
        background-color: var(--primary-color);
        border-radius: 6px;
    }
    
    pre code,
    pre tt {
        display: inline;
        max-width: auto;
        padding: 0;
        margin: 0;
        overflow: visible;
        line-height: inherit;
        word-wrap: normal;
        background-color: transparent;
        border: 0;
    }
    
    .csv-data td,
    .csv-data th {
        padding: 5px;
        overflow: hidden;
        font-size: 12px;
        line-height: 1;
        text-align: left;
        white-space: nowrap;
    }
    
    .csv-data .blob-num {
        padding: 10px 0.5rem 9px;
        text-align: right;
        background: var(--popup-background-color);
        border: 0;
    }
    
    .csv-data tr {
        border-top: 0;
    }
    
    .csv-data th {
        font-weight: 600;
        background: var(--popup-background-color);
        border-top: 0;
    }
    
    [data-footnote-ref]::before {
        content: "[";
    }
    
    [data-footnote-ref]::after {
        content: "]";
    }
    
    .footnote-ref {
        color: var(--link-text-color);
    }
    
    .footnotes {
        font-size: 12px;
        color: var(--secondary-text-color);
        border-top: 1px solid var(--border-color);
        
        a {
            color: var(--link-text-color);
        }
    }
    
    .footnotes ol {
        padding-left: 1rem;
    }
    
    .footnotes ol ul {
        display: inline-block;
        padding-left: 1rem;
        margin-top: 1rem;
    }
    
    .footnotes li {
        position: relative;
    }
    
    .footnotes li:target::before {
        position: absolute;
        top: calc(0.5rem*-1);
        right: calc(0.5rem*-1);
        bottom: calc(0.5rem*-1);
        left: calc(1.5rem*-1);
        pointer-events: none;
        content: "";
        border: 2px solid var(--link-text-color);
        border-radius: 6px;
    }
    
    .footnotes li:target {
        color: var(--primary-text-color);
    }
    
    .footnotes .data-footnote-backref g-emoji {
        font-family: monospace;
    }
    
    .markdown-alert {
        padding: 0.5rem 1rem;
        margin-bottom: 16px;
        color: inherit;
        border-left: 0.25em solid var(--border-color);
        
        > :first-child {
            margin-top: 0;
        }
        
        > :last-child {
            margin-bottom: 0;
        }
        
        &-title {
            display: flex;
            font-weight: 500;
            align-items: center;
            line-height: 1;
            
            .octicon {
                margin-right: 0.5rem;
                display: inline-block;
                overflow: visible !important;
                vertical-align: text-bottom;
                fill: currentColor;
            }
        }
        
        &-note {
            border-left-color: var(--color-note);
            
            &-title {
                color: var(--color-note);
            }
        }
        
        &-important {
            border-left-color: var(--color-important);
            
            &-title {
                color: var(--color-important);
            }
        }
        
        &-warning {
            border-left-color: var(--color-warning);
            
            &-title {
                color: var(--color-warning);
            }
        }
        
        &-tip {
            border-left-color: var(--color-tip);
            
            &-title {
                color: var(--color-tip);
            }
        }
        
        &-caution {
            border-left-color: var(--color-caution);
            
            &-title {
                color: var(--color-caution);
            }
        }
    }
    
    .task-list-item {
        list-style-type: none;
        
        label {
            font-weight: 400;
        }
        
        &.enabled label {
            cursor: pointer;
        }
        
        &+.task-list-item {
            margin-top: 0.25rem;
        }
        
        .handle {
            display: none;
        }
        
        &-checkbox {
            margin: 0 0.2em 0.25em -1.4em;
            vertical-align: middle;
            appearance: none;
            width: 1rem;
            height: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            
            &:checked {
                background-color: var(--border-color);
                border-color: var(--border-color);
                position: relative;
                
                &::after {
                    content: '';
                    display: block;
                    width: 0.3rem;
                    height: 0.6rem;
                    border: solid var(--primary-text-color);
                    border-width: 0 2px 2px 0;
                    transform: rotate(45deg);
                    position: absolute;
                    left: 2px;
                }
            }
        }
    }
    
    
    ul:dir(rtl) .task-list-item-checkbox,
    ol:dir(rtl) .task-list-item-checkbox {
        margin: 0 -1.6em 0.25em 0.2em;
    }
    
    .contains-task-list {
        
        &:hover .task-list-item-convert-container,
        &:focus-within .task-list-item-convert-container {
            display: block;
            width: auto;
            height: 24px;
            overflow: visible;
            clip: auto;
        }
    }
}

#markdown-compiler {
    .container {
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        overflow: auto;
        padding: 1rem;
        user-select: text;
        
        @include markdown-styles;
        
        pre {
            position: relative !important;
            
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 4px;
            width: 32px;
            height: 32px;
            cursor: pointer;
            opacity: 0;
            transform: translateY(4px);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-text-color);
            padding: 4px;
            z-index: 1;
        }
        
        pre:hover .copy-button {
            opacity: 1;
            transform: translateY(0);
        }
        
        .copy-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .copy-button:active {
            transform: scale(0.95);
        }
        
        .copy-button .check-icon {
            display: none;
            color: var(--link-text-color);
        }
        
        .copy-button.copied .copy-icon {
            display: none;
        }
        
        .copy-button.copied .check-icon {
            display: block;
            animation: checkmark 0.2s ease-in-out;
        }
        
        @keyframes checkmark {
            0% {
                transform: scale(0);
            }
            
            50% {
                transform: scale(1.2);
            }
            
            100% {
                transform: scale(1);
            }
        }
    }
}

.md {
    @include markdown-styles;
}